<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ExperimentRegistry Constructor — makeExperimentRegistry • batchtools</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ExperimentRegistry Constructor — makeExperimentRegistry"><meta name="description" content="makeExperimentRegistry constructs a special Registry which
is suitable for the definition of large scale computer experiments.
Each experiments consists of a Problem and an Algorithm.
These can be parametrized with addExperiments to actually define computational
jobs."><meta property="og:description" content="makeExperimentRegistry constructs a special Registry which
is suitable for the definition of large scale computer experiments.
Each experiments consists of a Problem and an Algorithm.
These can be parametrized with addExperiments to actually define computational
jobs."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">batchtools</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.17-9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/batchtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ExperimentRegistry Constructor</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/batchtools/blob/main/R/ExperimentRegistry.R" class="external-link"><code>R/ExperimentRegistry.R</code></a></small>
      <div class="d-none name"><code>makeExperimentRegistry.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>makeExperimentRegistry</code> constructs a special <code><a href="makeRegistry.html">Registry</a></code> which
is suitable for the definition of large scale computer experiments.</p>
<p>Each experiments consists of a <code><a href="addProblem.html">Problem</a></code> and an <code><a href="addAlgorithm.html">Algorithm</a></code>.
These can be parametrized with <code><a href="addExperiments.html">addExperiments</a></code> to actually define computational
jobs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeExperimentRegistry</span><span class="op">(</span></span>
<span>  file.dir <span class="op">=</span> <span class="st">"registry"</span>,</span>
<span>  work.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  conf.file <span class="op">=</span> <span class="fu"><a href="findConfFile.html">findConfFile</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  packages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span>,</span>
<span>  namespaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span>,</span>
<span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span>,</span>
<span>  load <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  make.default <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file-dir">file.dir<a class="anchor" aria-label="anchor" href="#arg-file-dir"></a></dt>
<dd><p>[<code>character(1)</code>]<br>
  Path where all files of the registry are saved.
  Default is directory “registry” in the current working directory.
  The provided path will get normalized unless it is given relative to the home directory
  (i.e., starting with “~”). Note that some templates do not handle relative paths well.</p>
<p>If you pass <code>NA</code>, a temporary directory will be used.
  This way, you can create disposable registries for <code><a href="btlapply.html">btlapply</a></code> or examples.
  By default, the temporary directory <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a>()</code> will be used.
  If you want to use another directory, e.g. a directory which is shared between nodes,
  you can set it in your configuration file by setting the variable <code>temp.dir</code>.</p></dd>


<dt id="arg-work-dir">work.dir<a class="anchor" aria-label="anchor" href="#arg-work-dir"></a></dt>
<dd><p>[<code>character(1)</code>]<br>
  Working directory for R process for running jobs.
  Defaults to the working directory currently set during Registry construction (see <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></code>).
  <code>loadRegistry</code> uses the stored <code>work.dir</code>, but you may also explicitly overwrite it,
  e.g., after switching to another system.</p>
<p>The provided path will get normalized unless it is given relative to the home directory
  (i.e., starting with “~”). Note that some templates do not handle relative paths well.</p></dd>


<dt id="arg-conf-file">conf.file<a class="anchor" aria-label="anchor" href="#arg-conf-file"></a></dt>
<dd><p>[<code>character(1)</code>]<br>
  Path to a configuration file which is sourced while the registry is created.
  In the configuration file you can define how <span class="pkg">batchtools</span> interacts with the system via <code><a href="makeClusterFunctions.html">ClusterFunctions</a></code>.
  Separating the configuration of the underlying host system from the R code allows to easily move computation to another site.</p>
<p>The file lookup is implemented in the internal (but exported) function <code>findConfFile</code> which returns the first file found of the following candidates:</p><ol><li><p>File “batchtools.conf.R” in the path specified by the environment variable “R_BATCHTOOLS_SEARCH_PATH”.</p></li>
<li><p>File “batchtools.conf.R” in the current working directory.</p></li>
<li><p>File “config.R” in the user configuration directory as reported by <code>rappdirs::user_config_dir("batchtools", expand = FALSE)</code> (depending on OS, e.g., on linux this usually resolves to “~/.config/batchtools/config.R”).</p></li>
<li><p>“.batchtools.conf.R” in the home directory (“~”).</p></li>
<li><p>“config.R” in the site config directory as reported by <code>rappdirs::site_config_dir("batchtools")</code> (depending on OS). This file can be used for admins to set sane defaults for a computation site.</p></li>
</ol><p>Set to <code>NA</code> if you want to suppress reading any configuration file.
  If a configuration file is found, it gets sourced inside the environment of the registry after the defaults for all variables are set.
  Therefore you can set and overwrite slots, e.g. <code>default.resources = list(walltime = 3600)</code> to set default resources or “max.concurrent.jobs” to
  limit the number of jobs allowed to run simultaneously on the system.</p></dd>


<dt id="arg-packages">packages<a class="anchor" aria-label="anchor" href="#arg-packages"></a></dt>
<dd><p>[<code>character</code>]<br>
Packages that will always be loaded on each node.
Uses <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></code> internally.
Default is <code>character(0)</code>.</p></dd>


<dt id="arg-namespaces">namespaces<a class="anchor" aria-label="anchor" href="#arg-namespaces"></a></dt>
<dd><p>[<code>character</code>]<br>
Same as <code>packages</code>, but the packages will not be attached.
Uses <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></code> internally.
Default is <code>character(0)</code>.</p></dd>


<dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>[<code>character</code>]<br>
Files which should be sourced on the slaves prior to executing a job.
Calls <code><a href="https://rdrr.io/r/base/sys.source.html" class="external-link">sys.source</a></code> using the <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">.GlobalEnv</a></code>.</p></dd>


<dt id="arg-load">load<a class="anchor" aria-label="anchor" href="#arg-load"></a></dt>
<dd><p>[<code>character</code>]<br>
Files which should be loaded on the slaves prior to executing a job.
Calls <code><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></code> using the <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">.GlobalEnv</a></code>.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>[<code>integer(1)</code>]<br>
Start seed for jobs. Each job uses the (<code>seed</code> + <code>job.id</code>) as seed.
Default is a random integer between 1 and 32768.
Note that there is an additional seeding mechanism to synchronize instantiation of
<code><a href="addProblem.html">Problem</a></code>s in a <code>ExperimentRegistry</code>.</p></dd>


<dt id="arg-make-default">make.default<a class="anchor" aria-label="anchor" href="#arg-make-default"></a></dt>
<dd><p>[<code>logical(1)</code>]<br>
If set to <code>TRUE</code>, the created registry is saved inside the package
namespace and acts as default registry. You might want to switch this
off if you work with multiple registries simultaneously.
Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>[<code>ExperimentRegistry</code>].</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">tmp</span> <span class="op">=</span> <span class="fu">makeExperimentRegistry</span><span class="op">(</span>file.dir <span class="op">=</span> <span class="cn">NA</span>, make.default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No readable configuration file found</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Created registry in '/tmp/batchtools-example/reg' using cluster functions 'Interactive'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Definde one problem, two algorithms and add them with some parameters:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="addProblem.html">addProblem</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span>, <span class="st">"p1"</span>,</span></span>
<span class="r-in"><span>  fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">job</span>, <span class="va">data</span>, <span class="va">n</span>, <span class="va">mean</span>, <span class="va">sd</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="va">sd</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding problem 'p1'</span>
<span class="r-in"><span><span class="fu"><a href="addAlgorithm.html">addAlgorithm</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span>, <span class="st">"a1"</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">job</span>, <span class="va">data</span>, <span class="va">instance</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">instance</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding algorithm 'a1'</span>
<span class="r-in"><span><span class="fu"><a href="addAlgorithm.html">addAlgorithm</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span>, <span class="st">"a2"</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">job</span>, <span class="va">data</span>, <span class="va">instance</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">instance</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding algorithm 'a2'</span>
<span class="r-in"><span><span class="va">ids</span> <span class="op">=</span> <span class="fu"><a href="addExperiments.html">addExperiments</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/J.html" class="external-link">CJ</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>, mean <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding 40 experiments ('p1'[40] x 'a1'[1] x repls[1]) ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding 40 experiments ('p1'[40] x 'a2'[1] x repls[1]) ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Overview over defined experiments:</span></span></span>
<span class="r-in"><span><span class="va">tmp</span><span class="op">$</span><span class="va">problems</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "p1"</span>
<span class="r-in"><span><span class="va">tmp</span><span class="op">$</span><span class="va">algorithms</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a1" "a2"</span>
<span class="r-in"><span><span class="fu"><a href="summarizeExperiments.html">summarizeExperiments</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    problem algorithm .count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;char&gt;    &lt;char&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      p1        a1     40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      p1        a2     40</span>
<span class="r-in"><span><span class="fu"><a href="summarizeExperiments.html">summarizeExperiments</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"problem"</span>, <span class="st">"algorithm"</span>, <span class="st">"n"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    problem algorithm     n .count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;char&gt;    &lt;char&gt; &lt;num&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      p1        a1    50     20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      p1        a1   100     20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      p1        a2    50     20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:      p1        a2   100     20</span>
<span class="r-in"><span><span class="va">ids</span> <span class="op">=</span> <span class="fu"><a href="findJobs.html">findExperiments</a></span><span class="op">(</span>prob.pars <span class="op">=</span> <span class="op">(</span><span class="va">n</span> <span class="op">==</span> <span class="fl">50</span><span class="op">)</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="unwrap.html">unwrap</a></span><span class="op">(</span><span class="fu"><a href="getJobTable.html">getJobPars</a></span><span class="op">(</span><span class="va">ids</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;job.id&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     job.id problem algorithm     n  mean    sd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt;  &lt;char&gt;    &lt;char&gt; &lt;num&gt; &lt;int&gt; &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      1      p1        a1    50    -2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      2      p1        a1    50    -2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      3      p1        a1    50    -2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      4      p1        a1    50    -2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      5      p1        a1    50    -1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      6      p1        a1    50    -1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      7      p1        a1    50    -1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      8      p1        a1    50    -1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      9      p1        a1    50     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:     10      p1        a1    50     0     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:     11      p1        a1    50     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:     12      p1        a1    50     0     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:     13      p1        a1    50     1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:     14      p1        a1    50     1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:     15      p1        a1    50     1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:     16      p1        a1    50     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:     17      p1        a1    50     2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:     18      p1        a1    50     2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:     19      p1        a1    50     2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:     20      p1        a1    50     2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:     41      p1        a2    50    -2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:     42      p1        a2    50    -2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:     43      p1        a2    50    -2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:     44      p1        a2    50    -2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:     45      p1        a2    50    -1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:     46      p1        a2    50    -1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:     47      p1        a2    50    -1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:     48      p1        a2    50    -1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:     49      p1        a2    50     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:     50      p1        a2    50     0     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:     51      p1        a2    50     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32:     52      p1        a2    50     0     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33:     53      p1        a2    50     1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34:     54      p1        a2    50     1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35:     55      p1        a2    50     1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36:     56      p1        a2    50     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37:     57      p1        a2    50     2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38:     58      p1        a2    50     2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39:     59      p1        a2    50     2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40:     60      p1        a2    50     2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     job.id problem algorithm     n  mean    sd</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Submit jobs</span></span></span>
<span class="r-in"><span><span class="fu"><a href="submitJobs.html">submitJobs</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Submitting 80 jobs in 80 chunks using cluster functions 'Interactive' ...</span>
<span class="r-in"><span><span class="fu"><a href="waitForJobs.html">waitForJobs</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reduce the results of algorithm a1</span></span></span>
<span class="r-in"><span><span class="va">ids.mean</span> <span class="op">=</span> <span class="fu"><a href="findJobs.html">findExperiments</a></span><span class="op">(</span>algo.name <span class="op">=</span> <span class="st">"a1"</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="reduceResults.html">reduceResults</a></span><span class="op">(</span><span class="va">ids.mean</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">aggr</span>, <span class="va">res</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">aggr</span>, <span class="va">res</span><span class="op">)</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] -2.00073766 -1.83988515 -2.19491590 -1.88744748 -1.16661898 -1.01586977</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -0.52913619 -0.63585094 -0.09331735  0.11880843  0.22120996  1.22939842</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13]  1.00632897  1.26918801  2.11616673  1.81935795  1.90243597  1.93950861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19]  2.33621891  2.81313094 -1.95745534 -2.29431806 -1.82269005 -1.80889629</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] -0.91933173 -1.03820621 -0.95531362 -1.49309041  0.09203207  0.05360571</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31]  0.04219920 -0.11534443  1.14488890  0.83504259  0.82821428  1.07835718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  2.06274541  2.28296085  2.26426388  1.74159301</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Join info table with all results and calculate mean of results</span></span></span>
<span class="r-in"><span><span class="co"># grouped by n and algorithm</span></span></span>
<span class="r-in"><span><span class="va">ids</span> <span class="op">=</span> <span class="fu"><a href="findJobs.html">findDone</a></span><span class="op">(</span>reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pars</span> <span class="op">=</span> <span class="fu"><a href="unwrap.html">unwrap</a></span><span class="op">(</span><span class="fu"><a href="getJobTable.html">getJobPars</a></span><span class="op">(</span><span class="va">ids</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">=</span> <span class="fu"><a href="unwrap.html">unwrap</a></span><span class="op">(</span><span class="fu"><a href="reduceResultsList.html">reduceResultsDataTable</a></span><span class="op">(</span><span class="va">ids</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>res <span class="op">=</span> <span class="va">res</span><span class="op">)</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tab</span> <span class="op">=</span> <span class="fu"><a href="JoinTables.html">ljoin</a></span><span class="op">(</span><span class="va">pars</span>, <span class="va">results</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tab</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mres <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"algorithm"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n algorithm        mres</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt;    &lt;char&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:    50        a1 0.270398674</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   100        a1 0.001062847</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:    50        a2 0.068935673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   100        a2 0.020262158</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

