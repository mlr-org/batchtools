<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Jobs and Experiments — makeJob • batchtools</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Jobs and Experiments — makeJob"><meta name="description" content="Jobs and Experiments are abstract objects which hold all information necessary to execute a single computational
job for a Registry or ExperimentRegistry, respectively.
They can be created using the constructor makeJob which takes a single job id.
Jobs and Experiments are passed to reduce functions like reduceResults.
Furthermore, Experiments can be used in the functions of the Problem and Algorithm.
Jobs and Experiments hold these information:
 job.id
Job ID as integer.

 pars
Job parameters as named list.
   For ExperimentRegistry, the parameters are divided into the sublists &amp;#8220;prob.pars&amp;#8221; and &amp;#8220;algo.pars&amp;#8221;.

 seed
Seed which is set via doJobCollection as scalar integer.

 resources
Computational resources which were set for this job as named list.

 external.dir
Path to a directory which is created exclusively for this job. You can store external files here.
   Directory is persistent between multiple restarts of the job and can be cleaned by calling resetJobs.

 fun
Job only: User function passed to batchMap.

 prob.name
Experiments only: Problem id.

 algo.name
Experiments only: Algorithm id.

 problem
Experiments only: Problem.

 instance
Experiments only: Problem instance.

 algorithm
Experiments only: Algorithm.

 repl
Experiments only: Replication number.




Note that the slots &amp;#8220;pars&amp;#8221;, &amp;#8220;fun&amp;#8221;, &amp;#8220;algorithm&amp;#8221; and &amp;#8220;problem&amp;#8221;
lazy-load required files from the file system and construct the object on the first access.
The realizations are cached for all slots except &amp;#8220;instance&amp;#8221; (which might be stochastic).
Jobs and Experiments can be executed manually with execJob."><meta property="og:description" content="Jobs and Experiments are abstract objects which hold all information necessary to execute a single computational
job for a Registry or ExperimentRegistry, respectively.
They can be created using the constructor makeJob which takes a single job id.
Jobs and Experiments are passed to reduce functions like reduceResults.
Furthermore, Experiments can be used in the functions of the Problem and Algorithm.
Jobs and Experiments hold these information:
 job.id
Job ID as integer.

 pars
Job parameters as named list.
   For ExperimentRegistry, the parameters are divided into the sublists &amp;#8220;prob.pars&amp;#8221; and &amp;#8220;algo.pars&amp;#8221;.

 seed
Seed which is set via doJobCollection as scalar integer.

 resources
Computational resources which were set for this job as named list.

 external.dir
Path to a directory which is created exclusively for this job. You can store external files here.
   Directory is persistent between multiple restarts of the job and can be cleaned by calling resetJobs.

 fun
Job only: User function passed to batchMap.

 prob.name
Experiments only: Problem id.

 algo.name
Experiments only: Algorithm id.

 problem
Experiments only: Problem.

 instance
Experiments only: Problem instance.

 algorithm
Experiments only: Algorithm.

 repl
Experiments only: Replication number.




Note that the slots &amp;#8220;pars&amp;#8221;, &amp;#8220;fun&amp;#8221;, &amp;#8220;algorithm&amp;#8221; and &amp;#8220;problem&amp;#8221;
lazy-load required files from the file system and construct the object on the first access.
The realizations are cached for all slots except &amp;#8220;instance&amp;#8221; (which might be stochastic).
Jobs and Experiments can be executed manually with execJob."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">batchtools</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.17-9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/batchtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Jobs and Experiments</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/batchtools/blob/main/R/Job.R" class="external-link"><code>R/Job.R</code></a></small>
      <div class="d-none name"><code>JobExperiment.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Jobs and Experiments are abstract objects which hold all information necessary to execute a single computational
job for a <code><a href="makeRegistry.html">Registry</a></code> or <code><a href="makeExperimentRegistry.html">ExperimentRegistry</a></code>, respectively.</p>
<p>They can be created using the constructor <code>makeJob</code> which takes a single job id.
Jobs and Experiments are passed to reduce functions like <code><a href="reduceResults.html">reduceResults</a></code>.
Furthermore, Experiments can be used in the functions of the <code><a href="addProblem.html">Problem</a></code> and <code><a href="addAlgorithm.html">Algorithm</a></code>.
Jobs and Experiments hold these information:</p><dl><dt><code>job.id</code></dt>
<dd><p>Job ID as integer.</p></dd>

 <dt><code>pars</code></dt>
<dd><p>Job parameters as named list.
   For <code><a href="makeExperimentRegistry.html">ExperimentRegistry</a></code>, the parameters are divided into the sublists “prob.pars” and “algo.pars”.</p></dd>

 <dt><code>seed</code></dt>
<dd><p>Seed which is set via <code><a href="doJobCollection.html">doJobCollection</a></code> as scalar integer.</p></dd>

 <dt><code>resources</code></dt>
<dd><p>Computational resources which were set for this job as named list.</p></dd>

 <dt><code>external.dir</code></dt>
<dd><p>Path to a directory which is created exclusively for this job. You can store external files here.
   Directory is persistent between multiple restarts of the job and can be cleaned by calling <code><a href="resetJobs.html">resetJobs</a></code>.</p></dd>

 <dt><code>fun</code></dt>
<dd><p>Job only: User function passed to <code><a href="batchMap.html">batchMap</a></code>.</p></dd>

 <dt><code>prob.name</code></dt>
<dd><p>Experiments only: Problem id.</p></dd>

 <dt><code>algo.name</code></dt>
<dd><p>Experiments only: Algorithm id.</p></dd>

 <dt><code>problem</code></dt>
<dd><p>Experiments only: <code><a href="addProblem.html">Problem</a></code>.</p></dd>

 <dt><code>instance</code></dt>
<dd><p>Experiments only: Problem instance.</p></dd>

 <dt><code>algorithm</code></dt>
<dd><p>Experiments only: <code><a href="addAlgorithm.html">Algorithm</a></code>.</p></dd>

 <dt><code>repl</code></dt>
<dd><p>Experiments only: Replication number.</p></dd>


</dl><p>Note that the slots “pars”, “fun”, “algorithm” and “problem”
lazy-load required files from the file system and construct the object on the first access.
The realizations are cached for all slots except “instance” (which might be stochastic).</p>
<p>Jobs and Experiments can be executed manually with <code><a href="execJob.html">execJob</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeJob</span><span class="op">(</span><span class="va">id</span>, reader <span class="op">=</span> <span class="cn">NULL</span>, reg <span class="op">=</span> <span class="fu"><a href="getDefaultRegistry.html">getDefaultRegistry</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>[<code>integer(1)</code> or <code>data.table</code>]<br>
Single integer to specify the job or a <code>data.table</code> with column <code>job.id</code>
and exactly one row.</p></dd>


<dt id="arg-reader">reader<a class="anchor" aria-label="anchor" href="#arg-reader"></a></dt>
<dd><p>[<code>RDSReader</code> | <code>NULL</code>]<br>
Reader object to retrieve files. Used internally to cache reading from the file system.
The default (<code>NULL</code>) does not make use of caching.</p></dd>


<dt id="arg-reg">reg<a class="anchor" aria-label="anchor" href="#arg-reg"></a></dt>
<dd><p>[<code><a href="makeRegistry.html">Registry</a></code>]<br>
Registry. If not explicitly passed, uses the default registry (see <code><a href="getDefaultRegistry.html">setDefaultRegistry</a></code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>[<code>Job</code> | <code>Experiment</code>].</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">tmp</span> <span class="op">=</span> <span class="fu"><a href="makeRegistry.html">makeRegistry</a></span><span class="op">(</span>file.dir <span class="op">=</span> <span class="cn">NA</span>, make.default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No readable configuration file found</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Created registry in '/tmp/batchtools-example/reg' using cluster functions 'Interactive'</span>
<span class="r-in"><span><span class="fu"><a href="batchMap.html">batchMap</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>, x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, more.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">99</span><span class="op">)</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Adding 2 jobs ...</span>
<span class="r-in"><span><span class="fu"><a href="submitJobs.html">submitJobs</a></span><span class="op">(</span>resources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>foo <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Submitting 2 jobs in 2 chunks using cluster functions 'Interactive' ...</span>
<span class="r-in"><span><span class="va">job</span> <span class="op">=</span> <span class="fu">makeJob</span><span class="op">(</span><span class="fl">1</span>, reg <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">job</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Job&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Inherits from: &lt;BaseJob&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Public:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     external.dir: active binding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     file.dir: /tmp/batchtools-example/reg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     fun: active binding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     id: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     initialize: function (file.dir, reader, id, job.pars, seed, resources) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     job.id: active binding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     job.pars: list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pars: active binding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     reader: RDSReader, R6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     resources: list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     seed: 15284</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get the parameters:</span></span></span>
<span class="r-in"><span><span class="va">job</span><span class="op">$</span><span class="va">pars</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 99</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get the job resources:</span></span></span>
<span class="r-in"><span><span class="va">job</span><span class="op">$</span><span class="va">resources</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $foo</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bar"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Execute the job locally:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="execJob.html">execJob</a></span><span class="op">(</span><span class="va">job</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### [bt]: Setting seed to 15284 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

