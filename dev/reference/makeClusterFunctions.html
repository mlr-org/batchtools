<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ClusterFunctions Constructor — makeClusterFunctions • batchtools</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ClusterFunctions Constructor — makeClusterFunctions"><meta name="description" content="This is the constructor used to create custom cluster functions.
Note that some standard implementations for TORQUE, Slurm, LSF, SGE, etc. ship
with the package."><meta property="og:description" content="This is the constructor used to create custom cluster functions.
Note that some standard implementations for TORQUE, Slurm, LSF, SGE, etc. ship
with the package."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">batchtools</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.17-9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/batchtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ClusterFunctions Constructor</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/batchtools/blob/main/R/clusterFunctions.R" class="external-link"><code>R/clusterFunctions.R</code></a></small>
      <div class="d-none name"><code>makeClusterFunctions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the constructor used to create <em>custom</em> cluster functions.
Note that some standard implementations for TORQUE, Slurm, LSF, SGE, etc. ship
with the package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeClusterFunctions</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">submitJob</span>,</span>
<span>  killJob <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  listJobsQueued <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  listJobsRunning <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  array.var <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  store.job.collection <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  store.job.files <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scheduler.latency <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fs.latency <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  hooks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>[<code>character(1)</code>]<br>
Name of cluster functions.</p></dd>


<dt id="arg-submitjob">submitJob<a class="anchor" aria-label="anchor" href="#arg-submitjob"></a></dt>
<dd><p>[<code>function(reg, jc, ...)</code>]<br>
Function to submit new jobs. Must return a <code><a href="makeSubmitJobResult.html">SubmitJobResult</a></code> object.
The arguments are <code>reg</code> (<code><a href="makeRegistry.html">Registry</a></code>) and <code>jobs</code> (<code><a href="JobCollection.html">JobCollection</a></code>).</p></dd>


<dt id="arg-killjob">killJob<a class="anchor" aria-label="anchor" href="#arg-killjob"></a></dt>
<dd><p>[<code>function(reg, batch.id)</code>]<br>
Function to kill a job on the batch system. Make sure that you definitely kill the job! Return
value is currently ignored. Must have the arguments <code>reg</code> (<code><a href="makeRegistry.html">Registry</a></code>) and
<code>batch.id</code> (<code>character(1)</code> as returned by <code>submitJob</code>).
Note that there is a helper function <code><a href="cfKillJob.html">cfKillJob</a></code> to repeatedly try to kill jobs.
Set <code>killJob</code> to <code>NULL</code> if killing jobs cannot be supported.</p></dd>


<dt id="arg-listjobsqueued">listJobsQueued<a class="anchor" aria-label="anchor" href="#arg-listjobsqueued"></a></dt>
<dd><p>[<code>function(reg)</code>]<br>
List all queued jobs on the batch system for the current user.
Must return an character vector of batch ids, same format as they
are returned by <code>submitJob</code>.
Set <code>listJobsQueued</code> to <code>NULL</code> if listing of queued jobs is not supported.</p></dd>


<dt id="arg-listjobsrunning">listJobsRunning<a class="anchor" aria-label="anchor" href="#arg-listjobsrunning"></a></dt>
<dd><p>[<code>function(reg)</code>]<br>
List all running jobs on the batch system for the current user.
Must return an character vector of batch ids, same format as they
are returned by <code>submitJob</code>. It does not matter if you return a few job ids too many (e.g.
all for the current user instead of all for the current registry), but you have to include all
relevant ones. Must have the argument are <code>reg</code> (<code><a href="makeRegistry.html">Registry</a></code>).
Set <code>listJobsRunning</code> to <code>NULL</code> if listing of running jobs is not supported.</p></dd>


<dt id="arg-array-var">array.var<a class="anchor" aria-label="anchor" href="#arg-array-var"></a></dt>
<dd><p>[<code>character(1)</code>]<br>
Name of the environment variable set by the scheduler to identify IDs of job arrays.
Default is <code>NA</code> for no array support.</p></dd>


<dt id="arg-store-job-collection">store.job.collection<a class="anchor" aria-label="anchor" href="#arg-store-job-collection"></a></dt>
<dd><p>[<code>logical(1)</code>]<br>
Flag to indicate that the cluster function implementation of <code>submitJob</code> can not directly handle <code><a href="JobCollection.html">JobCollection</a></code> objects.
If set to <code>FALSE</code>, the <code><a href="JobCollection.html">JobCollection</a></code> is serialized to the file system before submitting the job.</p></dd>


<dt id="arg-store-job-files">store.job.files<a class="anchor" aria-label="anchor" href="#arg-store-job-files"></a></dt>
<dd><p>[<code>logical(1)</code>]<br>
Flag to indicate that job files need to be stored in the file directory.
If set to <code>FALSE</code> (default), the job file is created in a temporary directory, otherwise (or if the debug mode is enabled) in
the subdirectory <code>jobs</code> of the <code>file.dir</code>.</p></dd>


<dt id="arg-scheduler-latency">scheduler.latency<a class="anchor" aria-label="anchor" href="#arg-scheduler-latency"></a></dt>
<dd><p>[<code>numeric(1)</code>]<br>
Time to sleep after important interactions with the scheduler to ensure a sane state.
Currently only triggered after calling <code><a href="submitJobs.html">submitJobs</a></code>.</p></dd>


<dt id="arg-fs-latency">fs.latency<a class="anchor" aria-label="anchor" href="#arg-fs-latency"></a></dt>
<dd><p>[<code>numeric(1)</code>]<br>
Expected maximum latency of the file system, in seconds.
Set to a positive number for network file systems like NFS which enables more robust (but also more expensive) mechanisms to
access files and directories.
Usually safe to set to <code>0</code> to disable the heuristic, e.g. if you are working on a local file system.</p></dd>


<dt id="arg-hooks">hooks<a class="anchor" aria-label="anchor" href="#arg-hooks"></a></dt>
<dd><p>[<code>list</code>]<br>
Named list of functions which will we called on certain events like “pre.submit” or “post.sync”.
See <a href="runHook.html">Hooks</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ClusterFunctions:
<code><a href="makeClusterFunctionsDocker.html">makeClusterFunctionsDocker</a>()</code>,
<code><a href="makeClusterFunctionsInteractive.html">makeClusterFunctionsInteractive</a>()</code>,
<code><a href="makeClusterFunctionsLSF.html">makeClusterFunctionsLSF</a>()</code>,
<code><a href="makeClusterFunctionsMulticore.html">makeClusterFunctionsMulticore</a>()</code>,
<code><a href="makeClusterFunctionsOpenLava.html">makeClusterFunctionsOpenLava</a>()</code>,
<code><a href="makeClusterFunctionsSGE.html">makeClusterFunctionsSGE</a>()</code>,
<code><a href="makeClusterFunctionsSSH.html">makeClusterFunctionsSSH</a>()</code>,
<code><a href="makeClusterFunctionsSlurm.html">makeClusterFunctionsSlurm</a>()</code>,
<code><a href="makeClusterFunctionsSocket.html">makeClusterFunctionsSocket</a>()</code>,
<code><a href="makeClusterFunctionsTORQUE.html">makeClusterFunctionsTORQUE</a>()</code></p>
<p>Other ClusterFunctionsHelper:
<code><a href="cfBrewTemplate.html">cfBrewTemplate</a>()</code>,
<code><a href="cfHandleUnknownSubmitError.html">cfHandleUnknownSubmitError</a>()</code>,
<code><a href="cfKillJob.html">cfKillJob</a>()</code>,
<code><a href="cfReadBrewTemplate.html">cfReadBrewTemplate</a>()</code>,
<code><a href="makeSubmitJobResult.html">makeSubmitJobResult</a>()</code>,
<code><a href="runOSCommand.html">runOSCommand</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

